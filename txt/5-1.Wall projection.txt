5-1.Wall projection

 - 우리는 광선을 벽으로 쏘면서 그 플레이어와 벽과의 거리를 받아올 수 있었다. 이제 그 거리를 바탕으로 벽의 높이를 계산할 수 있다.
 - 벽의 높이는 삼각형의 닮음를 이용해 실제 벽의 높이 : 실제 벽과의 거리 = 보여지는 벽의 높이 : 디스플레이까지의 거리로 구할 수 있다.
 - 닮음의 정의 : 닮음(영어: similarity)은 유클리드 공간의 모든 각을 보존하며 모든 거리를 일정한 비율로 확대 또는 축소시키는 아핀 변환이다. 모든 닮음은 고정점을 가지는 닮음과 등거리 변환의 합성으로 나타낼 수 있다. 평행 이동, 회전, 반사 등이 이러한 등거리 변환이 될 수 있다.
 - 위의 공식에 값을 대입해보자. 우리는 가로 320픽셀의 디스플레이에 시야각 60도의 레이캐스팅을 실시하였다. 따라서 디스플레이까지의 거리는 160 / tan(30)인 277.29이다. 그리고 실제 벽의 높이는 32픽셀이다. 따라서 32 : 벽과의 거리 = 보여지는 벽의 높이 : 277.29이므로 (32 * 277.29) = (벽과의 거리 * 보여지는 벽과의 높이)가 된다.